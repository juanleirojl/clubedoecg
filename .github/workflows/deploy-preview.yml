name: Deploy Preview

on:
  pull_request:
    types: [opened, synchronize, reopened]

jobs:
  # Vercel j√° faz deploy autom√°tico de PRs
  # Este workflow √© para notifica√ß√µes extras
  
  notify:
    name: PR Notification
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        
      - name: Comment PR
        uses: actions/github-script@v7
        with:
          script: |
            const prNumber = context.issue.number;
            const message = `üöÄ **Deploy Preview**
            
            O Vercel ir√° gerar um preview automaticamente para este PR.
            
            Verifique a aba "Checks" para ver o status do deploy.`;
            
            // S√≥ comenta em PRs novos
            if (context.payload.action === 'opened') {
              github.rest.issues.createComment({
                owner: context.repo.owner,
                repo: context.repo.repo,
                issue_number: prNumber,
                body: message
              });
            }


